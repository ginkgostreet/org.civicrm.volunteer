<div class="crm-vol-project" crm-vol-perm-to-class>
  <div crm-ui-debug="project"></div>
  <div crm-ui-debug="relationships"></div>
  <div crm-ui-debug="profiles"></div>
  <div crm-ui-debug="locBlock"></div>
  <div crm-ui-debug="campaigns"></div>
  <div crm-ui-debug="countries"></div>
  <div crm-ui-debug="supporting_data"></div>
  <div crm-ui-debug="relationships"></div>
  <div id="backboneIncludes"></div>

  <div class="help" ng-show="supporting_data.volunteer_general_project_settings_help_text"
       ng-bind-html="supporting_data.volunteer_general_project_settings_help_text"></div>
  <form class="crm-form-block" name="AppealForm" crm-ui-id-scope>

    <fieldset class="crm-vol-project-settings" crm-ui-id-scope>
      <legend>{{ts("Appeal Settings")}}</legend>
      <div class="crm-vol-title" crm-ui-field="{name: 'AppealForm.title', title: ts('Title')}">
        <input class="big crm-form-text" crm-ui-id="AppealForm.title" ng-model="appeal.title" ng-required="true" />
      </div>

      <div class="crm-vol-description" crm-ui-field="{name: 'AppealForm.description', title: ts('Project Description')}">
        <p>
          <span class="crm-button crm-icon-button crm-vol-button crm-vol-preview-description crm-vol-project-preview-description" ng-click="previewDescription()">
            <span class="crm-button-icon ui-icon-comment"> </span>
            <span class="crm-button-text">{{ts('Preview Description')}}</span>
          </span>
        </p>
        <div id=crm-vol-form-textarea-wrapper>
          <textarea crm-ui-richtext class="big crm-form-textarea" crm-ui-id="AppealForm.description" ng-model="project.description"></textarea>
        </div>
      </div>

      <div class="crm-vol-location" crm-ui-field='{name: "AppealForm.locBlock", title: ts("Location")}'>
        <select class="big crm-form-select crm-vol-location-block-id"
                crm-ui-select="{placeholder: '', allowClear:true}"
                ng-options="key as value for (key , value) in locationBlocks track by key" ng-model="project.loc_block_id">
          <option />
        </select>
        <div id="crm-vol-location-block" class="crm-vol-extra-top" crm-ui-accordion="{title: ts('Edit Location'), collapsed: project.loc_block_id !==0}" ng-hide="!project.loc_block_id">
          <div class="status" ng-show="locBlock.count_loc_used > 0">{{ts("This location is used by other events/projects. Modifying location information will change values for all events/projects")}}</div>
          <fieldset class="crm-vol-location-address">
            <legend>{{ts("Address")}}</legend>
            <div class="crm-vol-location-street" crm-ui-field='{name: "AppealForm.locBlock.street_address", title: ts("Street Address")}'>
              <input size="30" crm-ui-id="AppealForm.locBlock.street_address"  ng-model="locBlock.address.street_address" />
            </div>
            <div class="crm-vol-location-sup1" crm-ui-field='{name: "AppealForm.locBlock.supplemental_address_1", title: ts("Supplemental Address 1")}'>
              <input size="30" crm-ui-id="AppealForm.locBlock.supplemental_address_1" ng-model="locBlock.address.supplemental_address_1" />
            </div>
            <div class="crm-vol-location-sup2" crm-ui-field='{name: "AppealForm.locBlock.supplemental_address_2", title: ts("Supplemental Address 2")}'>
              <input size="30" crm-ui-id="AppealForm.locBlock.supplemental_address_2" ng-model="locBlock.address.supplemental_address_2" />
            </div>
            <div class="crm-vol-location-city" crm-ui-field='{name: "AppealForm.locBlock.city", title: ts("City")}'>
              <input crm-ui-id="AppealForm.locBlock.city" ng-model="locBlock.address.city" />
            </div>
            <div class="crm-vol-location-postal" crm-ui-field='{name: "AppealForm.locBlock.postal", title: ts("Postal Code - Suffix")}'>
              <input size="9" crm-ui-id="AppealForm.locBlock.postal" ng-model="locBlock.address.postal_code" />
              -
              <input size="5" crm-ui-id="AppealForm.locBlock.postal_code_suffix" ng-model="locBlock.address.postal_code_suffix" />
            </div>
            <div class="crm-vol-location-country_id" crm-ui-field="{name: 'AppealForm.locBlock.country_id', title: ts('Country')}">
              <select
                class="big crm-form-select"
                crm-ui-id="AppealForm.locBlock.country_id"
                crm-ui-select="{allowClear: false}"
                ng-change="locBlockDirty()"
                ng-model="locBlock.address.country_id"
                ng-options="k as v.name for (k, v) in countries track by k">
              </select>
            </div>
          </fieldset>
          <fieldset class="crm-vol-location-phone">
            <legend>{{ts("Phone")}}</legend>
            <div class="crm-vol-location-phone1" crm-ui-field='{name: "AppealForm.locBlock.phone1", title: ts("Phone 1")}'>
              <input crm-ui-id="AppealForm.locBlock.phone1"  ng-model="locBlock.phone.phone" />
              {{ts("ext.")}} <input size="5"  ng-model="locBlock.phone.phone_ext" />
              <select crm-ui-select="{width: '100', allowClear: true}" ng-model="locBlock.phone.phone_type_id">
                <option />
                <option ng-repeat="(pTypeId, pType) in phone_types" value="{{pTypeId}}">{{pType}}</option>
              </select>
            </div>
            <div class="crm-vol-location-phone2" crm-ui-field='{name: "AppealForm.locBlock.phone2", title: ts("Phone 2")}'>
              <input crm-ui-id="AppealForm.locBlock.phone2" ng-model="locBlock.phone_2.phone" />
              {{ts("ext.")}} <input size="5" ng-model="locBlock.phone_2.phone_ext" />
              <select crm-ui-select="{width: '100', allowClear: true}" ng-model="locBlock.phone_2.phone_type_id">
                <option />
                <option ng-repeat="(pTypeId, pType) in phone_types" value="{{pTypeId}}">{{pType}}</option>
              </select>
            </div>
          </fieldset>
          <fieldset class="crm-vol-location-email">
            <legend>{{ts("Email")}}</legend>
            <div class="crm-vol-location-email1" crm-ui-field='{name: "AppealForm.locBlock.email1", title: ts("Email 1")}'>
              <input size="30" type="email" crm-ui-id="AppealForm.locBlock.email1" ng-model="locBlock.email.email" />
            </div>
            <div class="crm-vol-location-email2" crm-ui-field='{name: "AppealForm.locBlock.email2", title: ts("Email 2")}'>
              <input size="30" type="email" crm-ui-id="AppealForm.locBlock.email2" ng-model="locBlock.email_2.email" />
            </div>
          </fieldset>
        </div>
      </div>


      <div class="crm-vol-is_active" crm-ui-field="{name: 'AppealForm.is_active', title: ts('Is this Project Active?')}">
        <input type="checkbox" crm-ui-id="AppealForm.is_active" ng-model="project.is_active" />
      </div>
    </fieldset>

    <div class="crm-submit-buttons crm-vol-project-submit-buttons">
      <span class="crm-button crm-icon-button crm-vol-button crm-vol-save-next crm-vol-project-save-next" ng-click="saveAndNext()">
        <span class="crm-button-icon ui-icon-triangle-1-e"> </span>
        <span class="crm-button-text">{{saveAndNextLabel}}</span>
      </span>
      <span ng-show="formContext === 'standAlone'" class="crm-button crm-icon-button crm-vol-button crm-vol-save-done crm-vol-project-save-done" ng-click="saveAndDone()">
        <span class="crm-button-icon ui-icon-circle-check"> </span>
        <span class="crm-button-text">{{ts('Save and Done')}}</span>
      </span>
      <span class="crm-button crm-icon-button crm-button-type-cancel crm-vol-button crm-vol-cancel crm-vol-project-cancel" ng-click="cancel()">
        <span class="crm-button-icon ui-icon-close"> </span>
        <span class="crm-button-text">{{ts('Cancel')}}</span>
      </span>
    </div>

  </form>

</div>
